<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>9 Appendix A: VE-State Validation | VEWiki</title>
<meta name="author" content="">
<meta name="description" content="Between late 2018 and Spring 2020, ODOT working with Consultant and GreenSTEP/RSPM/VisionEval author Brian Gregor to implement the first VE-State model nationwide in Oregon. This pilot effort...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="9 Appendix A: VE-State Validation | VEWiki">
<meta property="og:type" content="book">
<meta property="og:description" content="Between late 2018 and Spring 2020, ODOT working with Consultant and GreenSTEP/RSPM/VisionEval author Brian Gregor to implement the first VE-State model nationwide in Oregon. This pilot effort...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="9 Appendix A: VE-State Validation | VEWiki">
<meta name="twitter:description" content="Between late 2018 and Spring 2020, ODOT working with Consultant and GreenSTEP/RSPM/VisionEval author Brian Gregor to implement the first VE-State model nationwide in Oregon. This pilot effort...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">VEWiki</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="chapter2.html"><span class="header-section-number">2</span> Scenario Planning Process</a></li>
<li><a class="" href="chapter3.html"><span class="header-section-number">3</span> Visioneval – Developing a Model</a></li>
<li><a class="" href="chapter4.html"><span class="header-section-number">4</span> Future Models to Evaluate Progress to the region’s GHG Reduction Target</a></li>
<li><a class="" href="chapter5.html"><span class="header-section-number">5</span> Future Scenario – Baseline Reference</a></li>
<li><a class="" href="chapter6.html"><span class="header-section-number">6</span> Future Scenario – Tracking progress to the GHG Target Rule</a></li>
<li><a class="" href="chapter7.html"><span class="header-section-number">7</span> Review Scenario Inputs and Outputs</a></li>
<li><a class="" href="chapter8.html"><span class="header-section-number">8</span> Implementing Results</a></li>
<li><a class="active" href="appendixA.html"><span class="header-section-number">9</span> Appendix A: VE-State Validation</a></li>
<li><a class="" href="appendixB.html"><span class="header-section-number">10</span> Appendix B: Customizing VE Model Packages</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="appendixA" class="section level1">
<h1>
<span class="header-section-number">9</span> Appendix A: VE-State Validation<a class="anchor" aria-label="anchor" href="#appendixA"><i class="fas fa-link"></i></a>
</h1>
<p>Between late 2018 and Spring 2020, ODOT working with Consultant and GreenSTEP/RSPM/VisionEval author Brian Gregor to implement the first VE-State model nationwide in Oregon. This pilot effort iteratively ran through roughly 50 scenarios, and put the model through significant real-world testing which led to corrections in a number of places in the original code, particularly related to the VE-State B-zone synthesis process.</p>
<p>During the process, the VE-State outputs validated to a number of Oregon target data, as discussed below. To better match these targets, relevant inputs were checked, and changes made to inputs. In some cases, where there was no comparable data, key outputs were confirmed to match inputs and/or checked for reasonableness and trends over time. The order of the validation targets as listed below was important, as changes to earlier items affected outputs further down the list. Below is a summary of VE-State validation to historical targets. The resulting validation files are a mix of A-zone (county) and region (statewide) inputs. (<em>azone_relative_employment.csv, azone_hh_ave_veh_per_driver.csv, region_hh_ave_driver_per_capita.csv</em>).</p>
<p><strong>The validated VE-State files should be used without change in future VE-State and VE-RSPM applications in Oregon.</strong> Validation should be revisited at least every 2-3 years or when there are significant changes in the model, policy changes new data sources or changes in statewide VMT that warrant review. It should be noted that VE-State provides many of the inputs for the MPO VE-RSPM modules within Oregon, including vehicle and fuel inputs.</p>
<div id="ve-state-validation" class="section level2">
<h2>
<span class="header-section-number">9.1</span> VE-State Validation<a class="anchor" aria-label="anchor" href="#ve-state-validation"><i class="fas fa-link"></i></a>
</h2>
<p>Although this documentation is focused on VE-RSPM, this chapter provides a summary of the differences that VE-State requires for comparison.</p>
<ul>
<li><p>VE Oregon customization: Sample inputs with the standard VE installer (visioneval.org) contain the Oregon census PUMS data in the VESimHousehold source package. VE uses this data to build synthetic populations that reflect Oregon-specific demographic and land use characteristics.</p></li>
<li><p>VE self-calibration: Several VisionEval modules automatically adjust calculations to match input values, including the Hwy Statistics VMT values when the following files are properly configured. In other cases (e.g., where more recent MPOs cannot use NAs, or VE-State found exogenous values more accurate), exogenous values are provided from HPMS (by roadway class) and ODOT Highway Cost Allocation Study (by vehicle group) data. (<em>region_base_year_dvmt.csv,marea_base_year_dvmt.csv, marea_uza_profile_names.csv, marea_dvmt_split_by_road_class, region_base_year_dvmt</em>)</p></li>
<li><p><strong>Check any exogenous VMT values in these VE-State provided files for reasonableness:</strong> <em>region_base_year_dvmt</em> – HvyTrkDvmt (same as UrbanHvyTrkDvmt below) <em>marea_base_year_dvmt.csv</em> – UrbanLdvDvmt, UrbanHvyTrkDvmt for Albany &amp; Grants Pass <em>marea_dvmt_split_by_road_class</em> – Especially Bus VMT by functional class.</p></li>
</ul>
<p>Several files have been modified during validation of the Oregon statewide VE-State model. They include workers (QCEW trends over time), drivers (DMV), number of vehicles (DMV), vehicle fuel efficiency (DMV) and most importantly statewide VMT (HPMS) and fuel consumption (ODOT fuel sales records).</p>
<p>Since VE focuses on household-based travel it is hard to measure VMT and fuel sales for a small geographic area, but can reasonably be compared statewide.</p>
<p>The resulting validation files are a mix of A-zone (county) and region (statewide) inputs (<em>azone_relative_employment.csv, azone_hh_ave_veh_per_driver.csv, region_hh_ave_driver_per_capita.csv</em>). These VE-State file adjustments should be used without changes in VE-RSPM.</p>
<p>The resulting validation files are a mix of A-zone (county) and region (statewide) inputs. (<em>azone_relative_employment.csv, azone_hh_ave_veh_per_driver.csv, region_hh_ave_driver_per_capita.csv</em>). These VE-State file adjustments should be used without changes in VE-RSPM.</p>
<ul>
<li><p><strong>Statewide Fuel consumed</strong>: Fuel sales are rarely tracked at the sub-state level, but may be available if there is a local gas tax. Even if available, the purchase location is not an accurate indicator of where fuel was used. So use caution when comparing.</p></li>
<li><p><strong>Population &amp; Households</strong>: Confirm VE outputs match MPO total population inputs (<em>bzone_household_pop_by_age.csv, bzone_group_quarters_pop_by_age.csv</em>). Population by Location Types (Metropolitan, Town, Rural) should match official <span class="underline">Oregon Population Resource Center</span> forecasts (except for Portland Metro) for the Urban Growth Boundary (loctype=“metropolitan”) and overall County. VisionEval models create households from input population, with households assigned to certain districts based on the dwelling unit inputs. Inputs on dwelling units and household size can be adjusted (<em>bzone_dwelling_units.csv, azone_hhsize_targets.csv</em>).</p></li>
</ul>
<p><strong>Figure 24: VE-State Historic Validation - Population</strong></p>
<div class="inline-figure"><img src="media/validation_population.png"></div>
<ul>
<li>
<strong>Household Income</strong>: MPO Per Capita Income is an important driver of travel. Confirm outputs match inputs (<em>azone_per_cap_inc.csv</em>), developed as instructed using statewide income growth forecasts.Note that outputs are in baseyear dollars and may need to be converted to other year be make comparable (<em>/defs/deflators.csv</em>).</li>
</ul>
<p><strong>Figure 25: VE-State Historic Validation - Per Capita Income</strong></p>
<div class="inline-figure"><img src="media/validation_income.png"></div>
<ul>
<li>
<p><strong>Density</strong>: Activity density is an important driver of travel. VE-State uses a complex sampling process to simulates Bzones and their associated built form characteristics (Ds) including density, pivoting from EPA’s 2010 Smart Location Database block group data,“D1D” density variable for each MPO, and adjusting it based on inputs related to population growth allocations and urbanized land inputs. During the pilot, significant changes were made to the VE-State Bzone synthesis code, and the following refinements were made to VE inputs. Beyond the summary below, the final values for each input are documented in the modelbuild XLS files.</p>
<ul>
<li>Resolving inconsistencies in historic and forecast population geographies, and allocation by location type (metropolitan=MPO UGBs, Town = other UGBs, and Rural).</li>
<li>Previous GreenSTEP assumptions had shifted inputs to put multi-county MPO solely in their primary county. VE inputs allow multi-county inputs as long as there is no more than one MPO per county (adjustments made to small overlaps in Grants Pass and Albany.</li>
<li>Land area with UGBs were adjusted to remove unprotected acres, which proved especially significant in removing waterways along the coast and Columbia River, and large parks in Portland and Rogue Valley.</li>
<li>Resulting densities have no comparable value, but the resulting relative densities of the 8 MPOs was checked for reasonableness.</li>
</ul>
</li>
</ul>
<p><strong>Figure 26: VE-State Historic Validation - Population Density</strong></p>
<div class="inline-figure"><img src="media/validation_density.png"></div>
<ul>
<li>
<strong>Workers</strong>: Worker targets (workers that live in the model area) were approximated from LEHD and QCEW data for historic years. Neither source is ideal. LEHD data captures the home end of the commute trip, but it was found to be consistently low statewide. QCEW are employer reported jobs (work end) and may misrepresent workers that don’t work close to where they live, and skip non-covered employment such as agriculture and self-employed workers.2 Given the target-model mismatch, the validation approach was to match the QCEW jobs historical growth pattern and the VE workers over time, retaining the latest year factor into the future. A factor of 1.0784 was generated (<em>azone_relative_employment.csv</em>). The model ends up with roughly 35% more workers than Oregon QCEW data in all years. This factor was used for all age groups and all counties (see early • “hh_driver_adj” scenario).</li>
</ul>
<p><strong>Figure 27: VE-State Historic Validation - Workers</strong></p>
<div class="inline-figure"><img src="media/validation_workers.png"></div>
<ul>
<li>
<strong>Drivers:</strong> Number of drivers (by age group) was obtained from DMV by county and national datasources were also consulted VE drivers licensing rate by age group was adjusted to match historic DMV statewide trends over time, prompting adjustments to the VE parameter files to enable drivers per vehicle by county differences across the state, pulled from the DMV data. The units of the driver adjustment were also changed to more intuitively align with the target data. VE tended to underestimate drivers, and most age groups were pushed to nearly 100% licensure rates. However following the data trends, young/millennials rates were dropped in 2010 and fully restored by 2020. Drivers per vehicle by county was a simple DMV calculation of all LDV from 2016Q4, boosted by 10% to reduce and better match VE vehicles. (<em>region_hh_ave_driver_per_capita.csv, azone_hh_ave_veh_per_driver.csv</em>).</li>
</ul>
<p><strong>Figure 28: VE-State Historic Validation - Drivers</strong></p>
<div class="inline-figure"><img src="media/validation_drivers.jpg"></div>
<ul>
<li>
<strong>Light duty vehicles:</strong> DMV provides records of light duty vehicles registered in the state. VE-State was significantly high, driver per vehicle was increased (see above) to assist. VE ends up to be roughly 10-12% higher than DMV consistent over historic years.</li>
</ul>
<p><strong>Figure 28: VE-State Historic Validation - Drivers</strong></p>
<div class="inline-figure"><img src="media/validation_vehicles.png"></div>
<ul>
<li>
<p><strong>Vehicle Miles Travelled</strong> (VMT): HPMS provides with HCAS vehicle type split, provides LDV and total vehicle miles traveled for historic years. Note HPMS definition of VMT differs from that of VE. VE reports on all household travel regardless of where it occurs, and adds Commercial vehicle and Heavy Duty Truck and Bus travel on MPO roads. HPMS reports vehicular travel of all modes on roads within the MPO boundary. The differences are expected to be minimal at a statewide level. Drivers and Vehicles adjustments noted above were used to help get VMT to a reasonable level, and successfully track the recession era dip in VMT that was difficult with GreenSTEP.</p>
<ul>
<li><p>BTS LATCH data is empirically modeled data developed by the NHTS to estimate VMT and other per household transportation metrics such as person trips or person miles traveled. This data is estimated at the Census Tract level, and an empirically valid data source to use for model validation.</p></li>
<li><p>HPMS provides MPO-level vehicle miles traveled for historic years. Note HPMS definition of VMT differs from that of VE. VE reports on all household travel regardless of where it occurs, and adds Commercial vehicle and Heavy Duty Truck and Bus travel on MPO roads. HPMS reports vehicular travel of all modes on roads within the MPO boundary. HPMS is most valuable at the overall state level to compare total linked based VMT to the entire model region boundary.</p></li>
<li><p>Heavy Truck VMT was also checked, and found that Highway Statistics defaults produced significantly different VMT, so exogenous VMT from HPMS/HCAS were used in (<em>region_base_year_dvmt.csv</em>).</p></li>
</ul>
</li>
</ul>
<p><strong>Figure 29: VE-State Historic Validation - VMT</strong></p>
<div class="inline-figure"><img src="media/validation_vmt.jpg"></div>
<ul>
<li>
<strong>MPG:</strong> Overall fuel efficiency of light duty passenger and Commercial Service, as well as transit and heavy trucks are output by the model. The combined fuel efficiencies of registered passenger and commercial service can be obtained from DMV data and used to check for reasonableness in the base year. ODOT has augmented the DMV data to distinguish household from commercial vehicles, vehicle powertrain, and added EPA data such as MPG. This allows summarizing MPG of licensed household and ComService vehicles (no odometer readings on actual use) that were compared to statewide VE estimates for historical years. VE outputs are the average of the fleet, calculated by dividing total miles by total gallons. Given most of the LDV vehicle and fuel inputs are taken from DMV data it was not surprising that the MPG lined up well. To improve the match and respond to previous multi-agency recommendation, an adjustment of the DMV ICE MPG data used in PowertrainsAndFuel package was adjusted down by 6% to account for on-road MPG being less than EPA estimates. ODOT’s Economic unit RUC model forecasts do not account for on-road factor nor actual miles driven (no odometer), as in VE, and uses MPGe rather than VE’s miles divided by gallons; this is reflected in differences between the assumptions in these 2 models.</li>
</ul>
<p><strong>Figure 30: VE-State Historic Validation - MPG</strong></p>
<div class="inline-figure"><img src="media/validation_mpg.png"></div>
<ul>
<li>
<strong>Fuel consumed:</strong> Oregon tracks fuel sales at the statewide level. While fuel purchase location is not an accurate indicator of its use, it was assumed that statewide fuel sales cover a large enough area to limit this source of error. VE-State total LDV gallons output was validated to statewide gasoline fuel gallons sales (not including diesel fuel). This is a check on the combined effect of VMT and MPG.</li>
</ul>
<p><strong>Figure 31: VE-State Historic Validation - LDV Fuel Consumed</strong></p>
<div class="inline-figure"><img src="media/validation_fuel.png"></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="chapter8.html"><span class="header-section-number">8</span> Implementing Results</a></div>
<div class="next"><a href="appendixB.html"><span class="header-section-number">10</span> Appendix B: Customizing VE Model Packages</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#appendixA"><span class="header-section-number">9</span> Appendix A: VE-State Validation</a></li>
<li><a class="nav-link" href="#ve-state-validation"><span class="header-section-number">9.1</span> VE-State Validation</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>VEWiki</strong>" was written by . It was last built on 2023-10-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
